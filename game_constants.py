import math

# === BASIC SETTINGS ===
WIDTH, HEIGHT = 1280, 720
FPS = 60

COLOR_BG = (5, 5, 20)
COLOR_WHITE = (240, 240, 240)
COLOR_GRAY = (120, 120, 150)
COLOR_DARK_GRAY = (40, 40, 70)
COLOR_PLAYER = (120, 190, 255)
COLOR_ENEMY = (235, 70, 70)
COLOR_ENEMY_TANK = (200, 80, 40)
COLOR_ENEMY_FAST = (240, 120, 120)
COLOR_XP = (90, 240, 140)
COLOR_GAS = (180, 255, 180)
COLOR_BULLET = (255, 240, 120)
COLOR_RED = (255, 80, 80)
COLOR_GREEN = (90, 230, 90)
COLOR_YELLOW = (255, 215, 120)

STATE_MENU = "MENU"
STATE_PLAYING = "PLAYING"
STATE_LEVEL_UP = "LEVEL_UP"
STATE_GAME_OVER = "GAME_OVER"
STATE_SETTINGS = "SETTINGS"
STATE_PAUSED = "PAUSED"
STATE_DEAD_ANIM = "DEAD_ANIM"
STATE_EVOLUTION = "EVOLUTION"

WORLD_SIZE = 20000
PLAYER_RADIUS = 28
ENEMY_RADIUS = 24
BULLET_RADIUS = 6
XP_RADIUS = 8
GAS_RADIUS = 10

ENEMY_BASE_HP = 30
ENEMY_BASE_SPEED = 2.0
ENEMY_SPAWN_RATE = 1.0

XP_PER_ORB = 10
XP_PER_LEVEL = 40
XP_LEVEL_GROWTH = 1.35

SCREEN_SHAKE_DECAY = 3.0

STAR_COUNT = 30000

POWERUP_FIRST = 1
POWERUP_INTERVAL = 2

WINDOW_SIZES = [(1280, 720), (1600, 900), (1920, 1080)]


def clamp(v, a, b):
    return max(a, min(b, v))


def circle_collision(x1, y1, r1, x2, y2, r2):
    dx = x1 - x2
    dy = y1 - y2
    return dx * dx + dy * dy <= (r1 + r2) ** 2
